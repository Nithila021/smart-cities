SMART CITIES - BACKEND TODO

DONE:
- Basic ML infrastructure (K-Means, DBSCAN, KDE).
- Data cleaning pipeline for NYPD CSVs.
- Prototype demographic parser for group-specific advice.
- Flask API with exploration and chat endpoints.

SHOULD BE CHANGED:
- Replace dummy/fake amenity data with real Overpass API queries.
- Shift from string-template "AI" reports to real LLM integration.
- Replace in-memory Pandas caching with a persistent PostGIS database.

LEFT TO DO:
- Integrate 311 complaints (Indicator of broken windows/risk).
- Implement advanced models (XGBoost for importance, ST-GCN for forecasting).
- Add uncertainty scores (Confidence intervals) to risk results.
- Create production endpoints: /personalized-risk, /compare-places, /safe-times.



TODO list
1. Postgres
2. riskvector 

nikhils list

1.
BELOW should not happen every time.

2026-02-09 18:46:28 backend-1   | Coordinates: 40.7431021, -74.009291
2026-02-09 18:46:28 backend-1   | Detected city: nyc
2026-02-09 18:46:28 backend-1   | Initializing data with enhanced cleaning...
2026-02-09 18:46:28 backend-1   | Loading NYPD_Complaint_Data_YTD.csv...
2026-02-09 18:46:34 backend-1   | Loaded 438,556 rows
2026-02-09 18:46:34 backend-1   | Starting cleaning pipeline with 438,556 rows...
2026-02-09 18:46:34 backend-1   |   [1/6] Cleaning coordinates...
2026-02-09 18:46:35 backend-1   |   [2/6] Standardizing crime types...
2026-02-09 18:46:36 backend-1   |   [3/6] Adding crime categories...
2026-02-09 18:46:37 backend-1   |   [4/6] Adding severity weights...
2026-02-09 18:46:37 backend-1   |   [5/6] Cleaning demographics...
2026-02-09 18:46:38 backend-1   |   [6/6] Parsing timestamps...
2026-02-09 18:46:39 backend-1   | Cleaning complete: 435,650 rows remaining
2026-02-09 18:46:50 backend-1   | Initializing DBSCAN clusters with batching...
2026-02-09 18:46:50 backend-1   | Sampling 20000 records for DBSCAN clustering...
2026-02-09 18:46:50 backend-1   | Splitting data into geographical quadrants...
2026-02-09 18:46:50 backend-1   | Processing NE quadrant with 12160 points...
2026-02-09 18:46:51 backend-1   | Processing NW quadrant with 504 points...
2026-02-09 18:46:51 backend-1   | Processing SE quadrant with 6015 points...
2026-02-09 18:46:51 backend-1   | Processing SW quadrant with 1321 points...
2026-02-09 18:46:51 backend-1   | DBSCAN clustering complete. 529 clusters identified.
2026-02-09 18:46:51 backend-1   | Initializing victim demographic zones...
2026-02-09 18:46:52 backend-1   | Clustering into 25 demographic zones...
2026-02-09 18:46:56 backend-1   | Victim demographic zones created: 25 zones identified.
2026-02-09 18:46:56 backend-1   | Initializing crime density zones...
2026-02-09 18:47:08 backend-1   | Crime density zones classification complete.
2026-02-09 18:47:08 backend-1   | Data initialization complete. 435650 records processed.
2026-02-09 18:47:08 backend-1   | Amenity data file not found. Creating dummy data.


2.  
fix safety score because it only focuses on top crime concerns, 
should focus crime mapping on victim demographics
how to weight petit larceny vs sexual assault and when assault matters less than larceny

30/100 larceny targets women 
what if there are 29 sexual assaults versus 9  


3. understand eval